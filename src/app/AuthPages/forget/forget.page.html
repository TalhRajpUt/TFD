<ion-content>

  <div class='backButton'>
    <ion-icon (click)="goBack()" color="primary" name="arrow-back"></ion-icon>
  </div>

  <!-- Forget Password -->
  <div class="topImage2" *ngIf="segment === 'forget'" >
    <img src="../../../assets/forget.svg" alt="">
  </div>

  <div class="form2" *ngIf="segment === 'forget'" >
    <div id="title">
      <h1>{{title}}</h1>
      <ion-label>{{subTitle}}</ion-label>
    </div>
    
    <div id="fields">
      <ion-item>
        <ion-icon id='icon' slot="start" color="light" name="key"></ion-icon>
        <ion-label position="floating">Email</ion-label>
        <ion-input [(ngModel)]='email' placeholder='verify your Email Address' type=email></ion-input>
        <ion-icon *ngIf="!verifying" (click)="validateEmail()" id='iconEnd' slot=end [color]="color2" name="checkmark-done"></ion-icon>
        <ion-spinner *ngIf="verifying"  id='iconEnd' color="light" slot=end></ion-spinner>
      </ion-item>

      <ion-item [disabled]="apiCode === ''" >
        <ion-icon id='icon' slot="start" color="light" name="key"></ion-icon>
        <ion-label position="floating">Verification Code</ion-label>
        <ion-input [(ngModel)]='userCode' type=text></ion-input>
        <ion-icon (click)="validateCode()" id='iconEnd' slot=end [color]="color" name="checkmark-done"></ion-icon>
      </ion-item>

      <ion-item [disabled]="!codematched">
        <ion-icon id='icon' slot="start" color="light" name="key"></ion-icon>
        <ion-label position="floating">Passowrd</ion-label>
        <ion-input [(ngModel)]='newPassword' type=password></ion-input>
      </ion-item>

      <ion-button [disabled]='newPassword.length < 6' (click)="updatePassword()" color='primary'><ion-spinner color="light" *ngIf="spinner" ></ion-spinner><span *ngIf="!spinner" >Proceed</span></ion-button>
      <ion-text *ngIf="verify" >Request a new Code?</ion-text>
    </div>
  </div>
  <ion-label id="label" *ngIf="segment === 'forget'" >Remember your password? <span routerLink='/login' routerDirection='forward'>Sign in</span></ion-label>


   <!-- Update Password -->
  <div class="topImage2" *ngIf="segment === 'update'" >
    <img src="../../../assets/forget.svg" alt="">
  </div>
  <div class='update' *ngIf="segment === 'update'">
    <div class="form2">
      <div id="title">
        <h1>{{title}}</h1>
        <ion-label>{{subTitle}}</ion-label>
      </div>
      
      <div id="fields">
        <ion-item>
          <ion-icon id='icon' slot="start" color="light" name="mail"></ion-icon>
          <ion-label position="floating">Email</ion-label>
          <ion-input disabled [(ngModel)]='email' type=email></ion-input>
        </ion-item>
  
        <ion-item>
          <ion-icon id='icon' slot="start" color="light" name="key"></ion-icon>
          <ion-label position="floating">Passowrd</ion-label>
          <ion-input [(ngModel)]='oldPassword' placeholder='verify your password' type=password></ion-input>
          <ion-icon *ngIf="!verifying" (click)="validateLogIn()" id='iconEnd' slot=end [color]="color" name="checkmark-done"></ion-icon>
          <ion-spinner *ngIf="verifying"  id='iconEnd' color="light" slot=end></ion-spinner>
        </ion-item>
  
        <ion-item>
          <ion-icon id='icon' slot="start" color="light" name="key"></ion-icon>
          <ion-label position="floating">New Password</ion-label>
          <ion-input [disabled]='!verify' [(ngModel)]='newPassword' type=password></ion-input>
        </ion-item>
  
        <ion-button [disabled]='!verify || newPassword.length < 6' (click)="updatePassword()" color='primary'><ion-spinner color="light" *ngIf="spinner"  ></ion-spinner><span *ngIf="!spinner" >Proceed</span></ion-button>
      </div>
    </div>
  </div>
</ion-content>
